<!DOCTYPE html>
<html>
<head>
  <title>Data Structures</title>
  <meta charset="utf-8">
  <meta name="description" content="Data Structures">
  <meta name="author" content="Daniel Anderson">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/zenburn.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Data Structures</h1>
    <h2>Week 3.1</h2>
    <p>Daniel Anderson<br/>CourseR</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>Today&#39;s Agenda (not exactly ordered)</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Vectors, Matrices and (breifly) arrays</li>
<li>Data types: Logical, Integer, Double (numeric), Character</li>
<li>Coercion </li>
<li>Attributes: Names, Dimensions, Custom</li>
</ul>

<h1>Next week</h1>

<ul>
<li>A note on matrix algebra vs element-wise algebra</li>
<li>Lists</li>
<li>Common/Routine functions</li>
</ul>

<p><br>
Note that much of this presentation is based off Wickham (2015): 
  <a href="http://adv-r.had.co.nz/Data-structures.html">http://adv-r.had.co.nz/Data-structures.html</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>Data structures</h2>
  </hgroup>
  <article data-timings="">
    <table><thead>
<tr>
<th align="left">Dimensions</th>
<th align="left">Homogenous</th>
<th align="left">Heterogeneous</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">Atomic Vector</td>
<td align="left">List</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">Matrix</td>
<td align="left">Data frame</td>
</tr>
<tr>
<td align="left">n</td>
<td align="left">Array</td>
<td align="left"></td>
</tr>
</tbody></table>

<p><br></p>

<ul>
<li>Note: Table taken from Wickham (2015)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Properties of Vectors</h2>
  </hgroup>
  <article data-timings="">
    <h1>Type</h1>

<ul>
<li>Type of elements stored in the vector

<ul>
<li>use <code>typeof()</code> or <code>is.character()</code>, <code>is.integer()</code>, etc.</li>
</ul></li>
</ul>

<h1>Length</h1>

<ul>
<li>Number of elements in the vector

<ul>
<li>use <code>length()</code></li>
</ul></li>
</ul>

<h1>Attributes</h1>

<ul>
<li>Arbitrary metadata

<ul>
<li>use <code>attributes()</code> and/or <code>attr()</code></li>
</ul></li>
<li>What&#39;s metadata

<ul>
<li>data about the data (i.e., information that describes the data)</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Atomic Vectors vs Lists</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <ul>
<li><p>Atomic</p>

<ul>
<li>All elements of the same type</li>
</ul></li>
<li><p>Lists</p>

<ul>
<li>Element types differ</li>
</ul></li>
</ul>

<p><br></p>

<p>We will wait until next class to talk about lists.</p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">atomic &lt;- c(1, 7, 9, 23, 5)
atomic
</code></pre>

<pre><code>## [1]  1  7  9 23  5
</code></pre>

<pre><code class="r">lst &lt;- list(&quot;a&quot;, 2, TRUE)
lst
</code></pre>

<pre><code>## [[1]]
## [1] &quot;a&quot;
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] TRUE
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Data types</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <ul>
<li>Double

<ul>
<li>numeric with arbitrary precision</li>
</ul></li>
<li>Integer

<ul>
<li>numeric whole number</li>
</ul></li>
<li>Logical

<ul>
<li>true/false</li>
</ul></li>
<li>Character

<ul>
<li>string elements</li>
</ul></li>
</ul>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">dbl &lt;- c(1.357, 2, 4.67)
int &lt;- c(2L, 5L, 7L, 1L)
log &lt;- c(TRUE, FALSE, T, F)
chr &lt;- c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
</code></pre>

<p>Note the specific &quot;L&quot; placed after each number on the integer vector to coerce
  the elements to integer, rather than double.</p>

<pre><code class="r">int
</code></pre>

<pre><code>## [1] 2 5 7 1
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Determining and Testing Types</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">typeof(dbl)
</code></pre>

<pre><code>## [1] &quot;double&quot;
</code></pre>

<pre><code class="r">is.double(dbl)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<pre><code class="r">is.integer(dbl)
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

<pre><code class="r">is.atomic(dbl)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <h1>Be careful of more generic tests</h1>

<pre><code class="r">is.numeric(dbl)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<pre><code class="r">is.numeric(int)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Check in</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>What data types are the following vectors?</li>
</ul>

<pre><code class="r">w &lt;- c(TRUE, FALSE, FALSE, TRUE)
x &lt;- c(3, 5, 8, 9, 2.5)
y &lt;- c(&quot;green&quot;, &quot;red&quot;, &quot;blue&quot;)
z &lt;- c(5L, 7L, 2L, 18L)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Coercion</h2>
  </hgroup>
  <article data-timings="">
    <h1>Take a guess: What will the following vectors produce?</h1>

<pre><code class="r">w &lt;- c(&quot;1&quot;, 2, 3)
x &lt;- c(1, TRUE, FALSE)
y &lt;- c(3.25, 5L, 7L)
z &lt;- c(&quot;a&quot;, &quot;b&quot;, 7, TRUE)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">c(&quot;1&quot;, 2, 3); is.character(w)
</code></pre>

<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<pre><code class="r">c(1, TRUE, FALSE); is.double(x)
</code></pre>

<pre><code>## [1] 1 1 0
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">c(3.25, 5L, 7L); is.double(y)
</code></pre>

<pre><code>## [1] 3.25 5.00 7.00
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<pre><code class="r">c(&quot;a&quot;, &quot;b&quot;, 7, TRUE); is.character(z)
</code></pre>

<pre><code>## [1] &quot;a&quot;    &quot;b&quot;    &quot;7&quot;    &quot;TRUE&quot;
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Coercion rules</h2>
  </hgroup>
  <article data-timings="">
    <p>Remember: Atomic vectors must contain data of the same type.</p>

<ul>
<li>Most flexible: Character</li>
<li>Least flexible: Logical</li>
</ul>

<p>When logical vectors are coerced to be numeric, <code>TRUE</code> are coded 1, and <code>FALSE</code>
  are coded 0.</p>

<p>Explicitely coerce via <code>as.___</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>Explicit coercion</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <h1>Override default coercions</h1>

<pre><code class="r">c(FALSE,1,TRUE,0)
</code></pre>

<pre><code>## [1] 0 1 1 0
</code></pre>

<pre><code class="r">as.logical(c(FALSE,1,TRUE,0))
</code></pre>

<pre><code>## [1] FALSE  TRUE  TRUE FALSE
</code></pre>

<pre><code class="r">c(&quot;1&quot;, 2, 3)
</code></pre>

<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;
</code></pre>

<pre><code class="r">as.double(c(&quot;1&quot;, 2, 3))
</code></pre>

<pre><code>## [1] 1 2 3
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <h1>Convert to specific type</h1>

<pre><code class="r">as.character(1:5)
</code></pre>

<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;
</code></pre>

<p><br></p>

<h1>Careful with specific coercsions</h1>

<pre><code class="r">c(&quot;a&quot;, &quot;b&quot;, 7, &quot;TRUE&quot;)
</code></pre>

<pre><code>## [1] &quot;a&quot;    &quot;b&quot;    &quot;7&quot;    &quot;TRUE&quot;
</code></pre>

<pre><code class="r">as.integer(c(&quot;a&quot;, &quot;b&quot;, 7, &quot;TRUE&quot;))
</code></pre>

<pre><code>## Warning: NAs introduced by coercion
</code></pre>

<pre><code>## [1] NA NA  7 NA
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Check in</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Predict how each vector will be coerced.</li>
</ul>

<pre><code class="r">c(1, FALSE)
c(&quot;a&quot;, TRUE)
c(&quot;b&quot;, 1L)
c(1L, 2)
</code></pre>

<hr>

<h1>Why does this all matter?</h1>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <article data-timings="">
    <pre><code class="r">c(1, FALSE)
</code></pre>

<pre><code>## [1] 1 0
</code></pre>

<pre><code class="r">c(&quot;a&quot;, TRUE)
</code></pre>

<pre><code>## [1] &quot;a&quot;    &quot;TRUE&quot;
</code></pre>

<pre><code class="r">c(&quot;b&quot;, 1L)
</code></pre>

<pre><code>## [1] &quot;b&quot; &quot;1&quot;
</code></pre>

<pre><code class="r">c(1L, 2)
</code></pre>

<pre><code>## [1] 1 2
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>Your turn</h2>
  </hgroup>
  <article data-timings="">
    <p>Create and coerce the following vectors to the specified type</p>

<pre><code class="r">c(0, 0, 1, TRUE) # Logical
c(1, 5, 3.25, FALSE) # Integer
c(TRUE, FALSE, FALSE, TRUE) # Double
c(&quot;Male&quot;, &quot;Female&quot;, 0, 1) # Character
c(TRUE, TRUE, FALSE, TRUE) # Character
c(2.3, 2.5, 2.999999, 3.01) # Integer
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">as.logical(c(0, 0, 1, TRUE))
</code></pre>

<pre><code>## [1] FALSE FALSE  TRUE  TRUE
</code></pre>

<pre><code class="r">as.integer(c(1, 5, 3.25, FALSE))
</code></pre>

<pre><code>## [1] 1 5 3 0
</code></pre>

<pre><code class="r">as.double(c(TRUE, FALSE, FALSE, TRUE))
</code></pre>

<pre><code>## [1] 1 0 0 1
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">c(&quot;Male&quot;, &quot;Female&quot;, 0, 1)
</code></pre>

<pre><code>## [1] &quot;Male&quot;   &quot;Female&quot; &quot;0&quot;      &quot;1&quot;
</code></pre>

<pre><code class="r">as.character(c(TRUE, TRUE, FALSE, TRUE))
</code></pre>

<pre><code>## [1] &quot;TRUE&quot;  &quot;TRUE&quot;  &quot;FALSE&quot; &quot;TRUE&quot;
</code></pre>

<pre><code class="r">as.integer(c(2.3, 2.999999, 2.49, 3.01))
</code></pre>

<pre><code>## [1] 2 2 2 3
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue" id="slide-16" style="background:;">
  <article data-timings="">
    <p><img src="./assets/img/bikeAttr.png" alt="bikeAttr"></p>

<h1>Attributes</h1>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Important attributes</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><code>names()</code>, <code>colnames()</code>, <code>rownames()</code></li>
<li>Dimensions (used to convert vectors to matrices and arrays)</li>
<li>Class: points R to correct functions to execute (e.g., <code>print()</code>, <code>plot()</code>, 
etc.)</li>
</ul>

<p>What is an attribute? Metadata (data about the data) for an object.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h1><code>names()</code></h1>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <ul>
<li>Names can be assigned to an object in a couple different ways.</li>
</ul>

<pre><code class="r">y &lt;- c(&quot;A&quot; = 1, &quot;B&quot; = 2, &quot;C&quot; = 3)
y
</code></pre>

<pre><code>## A B C 
## 1 2 3
</code></pre>

<pre><code class="r">names(y)
</code></pre>

<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">z &lt;- 1:3
z
</code></pre>

<pre><code>## [1] 1 2 3
</code></pre>

<pre><code class="r">names(z) &lt;- c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)
z
</code></pre>

<pre><code>## A B C 
## 1 2 3
</code></pre>

<pre><code class="r">names(z)
</code></pre>

<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Factors</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Used to store categorical data</li>
<li>Can only store predefined values</li>
<li>String variables default to factors when reading in data </li>
</ul>

<pre><code class="r">colors &lt;- factor(c(&quot;black&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;blue&quot;, &quot;black&quot;))
attributes(colors)
</code></pre>

<pre><code>## $levels
## [1] &quot;black&quot; &quot;blue&quot;  &quot;green&quot;
## 
## $class
## [1] &quot;factor&quot;
</code></pre>

<pre><code class="r">str(colors)
</code></pre>

<pre><code>##  Factor w/ 3 levels &quot;black&quot;,&quot;blue&quot;,..: 1 3 2 2 1
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Adding elements to factors</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">colors[6] &lt;- &quot;blue&quot;
colors
</code></pre>

<pre><code>## [1] black green blue  blue  black blue 
## Levels: black blue green
</code></pre>

<pre><code class="r">colors[7] &lt;- &quot;purple&quot;
</code></pre>

<pre><code>## Warning in `[&lt;-.factor`(`*tmp*`, 7, value = &quot;purple&quot;): invalid factor
## level, NA generated
</code></pre>

<pre><code class="r">colors
</code></pre>

<pre><code>## [1] black green blue  blue  black blue  &lt;NA&gt; 
## Levels: black blue green
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>Benefits of factors</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <ul>
<li>No need for multiple variables to define a categorical variable: internal 
dummy-coding</li>
</ul>

<pre><code class="r">contrasts(colors)
</code></pre>

<pre><code>##       blue green
## black    0     0
## blue     1     0
## green    0     1
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <ul>
<li>Change the reference group by defining a new contrast matrix. For example, we 
can set green to the reference group with the following code.</li>
</ul>

<pre><code class="r">contrasts(colors) &lt;- matrix(
    c(1, 0,
      0, 1,
      0, 0),
byrow = TRUE, ncol = 2)
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <hgroup>
    <h1>Contrast coding (continued)</h1>
  </hgroup>
  <article data-timings="">
    <p>Alternatively, use some of the built in functions for defining new contrasts 
  matrices </p>

<div style='float:left;width:48%;'>
  <pre><code class="r">contr.helmert(3)
</code></pre>

<pre><code>##   [,1] [,2]
## 1   -1   -1
## 2    1   -1
## 3    0    2
</code></pre>

<pre><code class="r">contr.sum(3)
</code></pre>

<pre><code>##   [,1] [,2]
## 1    1    0
## 2    0    1
## 3   -1   -1
</code></pre>

<p><br>
(see: <a href="http://www.ats.ucla.edu/stat/r/library/contrast_coding.htm">http://www.ats.ucla.edu/stat/r/library/contrast_coding.htm</a>)</p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">contrasts(colors) &lt;- contr.helmert(3)
contrasts(colors)
</code></pre>

<pre><code>##       [,1] [,2]
## black   -1   -1
## blue     1   -1
## green    0    2
</code></pre>

<pre><code class="r">contrasts(colors) &lt;- contr.sum(3)
contrasts(colors)
</code></pre>

<pre><code>##       [,1] [,2]
## black    1    0
## blue     0    1
## green   -1   -1
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <hgroup>
    <h2>Factors and attributes</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Factors are atomic integer vectors with a &quot;levels&quot; attribute.</li>
</ul>

<pre><code class="r">is.atomic(colors)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<pre><code class="r">typeof(colors)
</code></pre>

<pre><code>## [1] &quot;integer&quot;
</code></pre>

<p>Note: Be careful with <code>is.vector()</code>. It only returns <code>TRUE</code> if the vector has no
  attributes outside of names</p>

<pre><code class="r">is.vector(colors)
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Your turn (15 minutes)</h2>
  </hgroup>
  <article data-timings="">
    <h1>Sort of tricky: Will require you do some searching on your own</h1>

<ul>
<li><p>Create a factor for free or reduced lunch status, of length 150, that has
three levels: free, reduced, pay. (hint: use/look at the documentation for 
<code>rep</code>)</p></li>
<li><p>Specify a new contrast matrix using a custom matrix (you can use dummy-coding
still, but just change the reference group).</p></li>
<li><p>Create a random variable with <code>rnorm()</code> of the same length, with a mean of 
100 and standard deviation of 15. (hint: look at the documentation for <code>rnorm</code>
)</p></li>
<li><p>Fit a linear regression model with the factor predicting the random variable</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">frl &lt;- factor(rep(
  c(&quot;free&quot;, &quot;reduced&quot;, &quot;pay&quot;), 
  50)
)

effect_code &lt;- matrix(c(-1, -1,
                         1, 0,
                         0, 1),
                      ncol = 2, 
            byrow = TRUE)
contrasts(frl) &lt;- effect_code
contrasts(frl)
</code></pre>

<pre><code>##         [,1] [,2]
## free      -1   -1
## pay        1    0
## reduced    0    1
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">set.seed(38)
outcome &lt;- rnorm(150, 100, 15)
mod &lt;- lm(outcome ~ frl)
library(arm)
display(mod, detail = TRUE)
</code></pre>

<pre><code>## lm(formula = outcome ~ frl)
##             coef.est coef.se t value Pr(&gt;|t|)
## (Intercept) 100.15     1.15   87.21    0.00  
## frl1         -3.50     1.62   -2.15    0.03  
## frl2          3.15     1.62    1.94    0.05  
## ---
## n = 150, k = 3
## residual sd = 14.06, R-Squared = 0.04
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h2>What&#39;s going on here? Plot the data to find out!</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-32-1.png" alt="plot of chunk unnamed-chunk-32"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-27" style="background:;">
  <hgroup>
    <h2>Dimension attribute</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <p>The way we have created matrices in the past in through the <code>matrix</code> function</p>

<pre><code class="r">m &lt;- matrix(1:12, ncol = 3)
m
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p>The object <code>m</code> is really just an atomic vector with a dimension attribute</p>

<pre><code class="r">attributes(m)
</code></pre>

<pre><code>## $dim
## [1] 4 3
</code></pre>

<pre><code class="r">is.atomic(m)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>Alternative construction of the same matrix</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <h1>Construct matrix</h1>

<pre><code class="r">m &lt;- 1:12
m
</code></pre>

<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12
</code></pre>

<pre><code class="r">dim(m) &lt;- c(4, 3)
m
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <h1>Add row and column names</h1>

<pre><code class="r">rownames(m) &lt;- c(&quot;r1&quot;, &quot;r2&quot;, &quot;r3&quot;, &quot;r4&quot;)
m
</code></pre>

<pre><code>##    [,1] [,2] [,3]
## r1    1    5    9
## r2    2    6   10
## r3    3    7   11
## r4    4    8   12
</code></pre>

<pre><code class="r">colnames(m) &lt;- c(&quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;)
m
</code></pre>

<pre><code>##    c1 c2 c3
## r1  1  5  9
## r2  2  6 10
## r3  3  7 11
## r4  4  8 12
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2>Construct matrix, but fill by row</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <h1>Construct the transpose of the matrix</h1>

<pre><code class="r">m &lt;- 1:12
dim(m) &lt;- c(3, 4)
m
</code></pre>

<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    4    7   10
## [2,]    2    5    8   11
## [3,]    3    6    9   12
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <h1>Transpose the matrix</h1>

<pre><code class="r">m &lt;- t(m)
m
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]   10   11   12
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-30" style="background:;">
  <hgroup>
    <h2>Arrays: &quot;Layered&quot; Matrices</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- 1:16
dim(a) &lt;- c(2, 2, 4)
a
</code></pre>

<p>This is a 3-dimensional array, but more dimensions are possible</p>

<div style='float:left;width:48%;'>
  <pre><code>## , , 1
## 
##      [1,] [2,]
## [1,]    1    3
## [2,]    2    4
## 
## , , 2
## 
##      [1,] [2,]
## [1,]    5    7
## [2,]    6    8
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code>## , , 3
## 
##      [1,] [2,]
## [1,]    9   11
## [2,]   10   12
## 
## , , 4
## 
##      [1,] [2,]
## [1,]   13   15
## [2,]   14   16
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-31" style="background:;">
  <hgroup>
    <h2>When would you use arrays?</h2>
  </hgroup>
  <article data-timings="">
    <h1>One example: Differential item functioning</h1>

<div style='float:left;width:48%;'>
  <pre><code>## , , Score = 0
## 
##           Male Female
## Incorrect   53     51
## Correct     42     34
## 
## , , Score = 1
## 
##           Male Female
## Incorrect   40     65
## Correct     50     20
## 
## , , Score = 2
## 
##           Male Female
## Incorrect   16     24
## Correct     46     34
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code>## , , Score = 3
## 
##           Male Female
## Incorrect   64     24
## Correct     61     48
## 
## , , Score = 4
## 
##           Male Female
## Incorrect   34     65
## Correct     53     66
## 
## , , Score = 5
## 
##           Male Female
## Incorrect   32     48
## Correct     42     30
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-32" style="background:;">
  <hgroup>
    <h2>Let&#39;s try</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li><p>Create the following vector
\[
\begin{equation*}
\textbf{vect} = \qquad 
\begin{bmatrix}
23 & 41 & 18 & 27 & 16 & 11 & 72 & 29 & 18 & 51 & 32 & 63
\end{bmatrix}
\end{equation*}
\]</p></li>
<li><p>Use attributes to transform it to the following matrix
\[
\begin{equation*}
\textbf{mat} = \qquad 
\begin{bmatrix}
23 & 27 & 72 & 51 \\
41 & 16 & 29 & 32 \\ 
18 & 11 & 18 & 63
\end{bmatrix}
\end{equation*}
\]</p></li>
<li><p>Provide some arbitrary row and column names</p></li>
<li><p>Use attributes to transform \(\textbf{vect}\) into a \(3 * 2 * 2\) array</p></li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-33" style="background:;">
  <hgroup>
    <h2>More on the names attributes</h2>
  </hgroup>
  <article data-timings="">
    <p>For atomic vectors, and specifically matrices, <code>rownames()</code> and <code>colnames()</code> 
  must be used, rather than <code>names()</code>. The <code>names()</code> attribute is for individual
  elements.</p>

<pre><code class="r">names(m)
</code></pre>

<pre><code>## NULL
</code></pre>

<pre><code class="r">names(m) &lt;- c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
attr(m, &quot;names&quot;)
</code></pre>

<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; NA  NA  NA  NA  NA  NA  NA  NA  NA
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-34" style="background:;">
  <hgroup>
    <h2>Names attributes (continued)</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <p>After row, column, and element names are assigned, they can be used in 
  subsetting</p>

<pre><code class="r">m[&quot;r1&quot;, ]
</code></pre>

<pre><code>## Error in m[&quot;r1&quot;, ]: no &#39;dimnames&#39; attribute for array
</code></pre>

<pre><code class="r">m[&quot;r3&quot;,&quot;c2&quot;] 
</code></pre>

<pre><code>## Error in m[&quot;r3&quot;, &quot;c2&quot;]: no &#39;dimnames&#39; attribute for array
</code></pre>

<pre><code class="r">m[&quot;b&quot;] 
</code></pre>

<pre><code>## b 
## 4
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p>You can also specify the row and column names via <code>dimnames()</code> and a list of 
  vectors (ordered by row names, then column names, then the 3rd dimension for 
  arrays)</p>

<pre><code class="r">dimnames(m) &lt;- list(
    c(&quot;row1&quot;, &quot;row2&quot;, &quot;row3&quot;, &quot;row4&quot;), 
    c(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;)
                    )
m
</code></pre>

<pre><code>##      col1 col2 col3
## row1    1    2    3
## row2    4    5    6
## row3    7    8    9
## row4   10   11   12
## attr(,&quot;names&quot;)
##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; NA  NA  NA  NA  NA  NA  NA  NA  NA
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-35" style="background:;">
  <hgroup>
    <h2>Adding custom attributes</h2>
  </hgroup>
  <article data-timings="">
    <p>Occassionally there are instances when it makes sense to add a custom attribute 
  of some sort. Here are a few examples</p>

<pre><code class="r">comment(m) &lt;- &quot;Here are some  important things to remember: x, y, z&quot;
attr(m, &quot;comment&quot;)
</code></pre>

<pre><code>## [1] &quot;Here are some  important things to remember: x, y, z&quot;
</code></pre>

<pre><code class="r">attr(m, &quot;new_attribute&quot;) &lt;- &quot;Just a different comment, but this one shows when m is printed&quot;
attr(m, &quot;new_attribute&quot;)
</code></pre>

<pre><code>## [1] &quot;Just a different comment, but this one shows when m is printed&quot;
</code></pre>

<p>Remember that you can see all the attributes of an object via <code>attributes(x)</code></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-36" style="background:;">
  <hgroup>
    <h2>Final notes on attributes</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <p>When you modify a vector, the attributes are generally lost.</p>

<pre><code class="r">attributes(sum(m))
</code></pre>

<pre><code>## NULL
</code></pre>

<p>But in some cases you may want to strip the attributes from an object. You can 
  do this by setting the attributes to <code>NULL</code>.</p>

</div>
<div style='float:right;width:48%;'>
  <p>To remove the dimension names</p>

<pre><code class="r">attr(m, &quot;dimnames&quot;) &lt;- NULL
m
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]   10   11   12
## attr(,&quot;names&quot;)
##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; NA  NA  NA  NA  NA  NA  NA  NA  NA 
## attr(,&quot;new_attribute&quot;)
## [1] &quot;Just a different comment, but this one shows when m is printed&quot;
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-37" style="background:;">
  <article data-timings="">
    <p>To remove all the attributes, and return to a basic vector</p>

<pre><code class="r">attributes(m) &lt;- NULL
m
</code></pre>

<pre><code>##  [1]  1  4  7 10  2  5  8 11  3  6  9 12
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-38" style="background:;">
  <hgroup>
    <h2>Lab</h2>
  </hgroup>
  <article data-timings="">
    <p>\[
\begin{equation*}
  \textbf{m} = \qquad 
  \begin{bmatrix}
    11 & 26\\
    33 & 11 \\
    27 &  5 \\
    91 & 18 \\
  \end{bmatrix}
\end{equation*}
\]</p>

<ul>
<li>Create the above matrix using two methods, save them into objects m1 and m2</li>
<li>Give the dimension names of each matrix using a different method for each</li>
<li>Give each matrix one additional (and different) attribute</li>
<li>Coerce the vector 
$ 
\begin{bmatrix}
T &amp; F\
\end{bmatrix}
$
to type double or integer and add it to the third row of the matrix.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='Today&#39;s Agenda (not exactly ordered)'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Data structures'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Properties of Vectors'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Atomic Vectors vs Lists'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Data types'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Determining and Testing Types'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Check in'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Coercion'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='NA'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Coercion rules'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Explicit coercion'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Check in'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='NA'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Your turn'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='NA'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='NA'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Important attributes'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='<code>names()</code>'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Factors'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Adding elements to factors'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Benefits of factors'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='Contrast coding (continued)'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Factors and attributes'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Your turn (15 minutes)'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='NA'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='What&#39;s going on here? Plot the data to find out!'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='Dimension attribute'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='Alternative construction of the same matrix'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='Construct matrix, but fill by row'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='Arrays: &quot;Layered&quot; Matrices'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='When would you use arrays?'>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='Let&#39;s try'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='More on the names attributes'>
         33
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=34 title='Names attributes (continued)'>
         34
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=35 title='Adding custom attributes'>
         35
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=36 title='Final notes on attributes'>
         36
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=37 title='NA'>
         37
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=38 title='Lab'>
         38
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>