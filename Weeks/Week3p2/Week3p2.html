<!DOCTYPE html>
<html>
<head>
  <title>Data Structures</title>
  <meta charset="utf-8">
  <meta name="description" content="Data Structures">
  <meta name="author" content="Daniel Anderson">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/zenburn.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Data Structures</h1>
    <h2>Week 3.2</h2>
    <p>Daniel Anderson<br/>CourseR</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>Today&#39;s Agenda</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>A note on matrix algebra vs element-wise algebra</li>
<li>Lists</li>
<li>Data frames</li>
<li>Classes</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>Matrix Multiplication Versus Element-wise</h2>
  </hgroup>
  <article data-timings="">
    <p>To compute the product of two matrices, you have to use the matrix
  multiplication operator, <code>%*%</code>, rather than <code>*</code>. </p>

<div style='float:left;width:48%;'>
  <pre><code class="r">m1 &lt;- matrix(round(rnorm(12, 10, 3)),
        ncol = 4)
m1
</code></pre>

<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    6   11   11   14
## [2,]   11   11   13    8
## [3,]   10   13    4   11
</code></pre>

<pre><code class="r">m2 &lt;- matrix(round(rnorm(12, 10, 3)),
        ncol = 3)
m2
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]   13   12   11
## [2,]    5    3   12
## [3,]   11    9    8
## [4,]   11    7    9
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">m1 * m2
</code></pre>

<pre><code>## Error in m1 * m2: non-conformable arrays
</code></pre>

<pre><code class="r">m1 %*% m2
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]  408  302  412
## [2,]  429  338  429
## [3,]  360  272  397
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Matrix algebra</h2>
  </hgroup>
  <article data-timings="">
    <div align = "center">
<img src = assets/img/matrixMultDiag.png width = 500 height = 500>
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Marix product rules</h2>
  </hgroup>
  <article data-timings="">
    <p><br></p>

<div align = "center">
<img src = assets/img/matrixMulti.png width = 500 height = 300>
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>One more example</h2>
  </hgroup>
  <article data-timings="">
    <p>If you try to multiply two square matrices, the procedure will be conducted
  element-wise, unless you use the correct command for matrix multiplication.</p>

<div style='float:left;width:48%;'>
  <pre><code class="r">m1 &lt;- matrix(1:9, ncol = 3)
m1
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9
</code></pre>

<pre><code class="r">m2 &lt;- matrix(21:29, ncol = 3)
m2
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]   21   24   27
## [2,]   22   25   28
## [3,]   23   26   29
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">m1 * m2
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]   21   96  189
## [2,]   44  125  224
## [3,]   69  156  261
</code></pre>

<pre><code class="r">m1 %*% m2
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]  270  306  342
## [2,]  336  381  426
## [3,]  402  456  510
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Your turn</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Create a 2 by 2 matrix and a 2 by 4 matrix with random normal numbers with a 
mean of 10 and standard deviation of 2. Note, if you&#39;d like your results to match mine, first run <code>set.seed(101)</code>.</li>
<li>Multiply the matrices together</li>
<li>Predict the dimensions of product matrix for each of the following

<ul>
<li>3*5 * 5*7</li>
<li>4*2 * 2*4</li>
<li>2*4 * 4*2</li>
<li>4*3 * 4*3</li>
<li>3*5 * 5*2</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <article data-timings="">
    <pre><code class="r">set.seed(101)
m1 &lt;- matrix(rnorm(4, 10, 2), ncol = 2)
m2 &lt;- matrix(rnorm(8, 10, 2), ncol = 4)
m1 %*% m2
</code></pre>

<pre><code>##          [,1]     [,2]     [,3]     [,4]
## [1,] 206.1004 189.5989 193.2626 176.0718
## [2,] 246.7245 226.7283 231.0469 210.4503
</code></pre>

<p><br></p>

<h1>Predictions</h1>

<table><thead>
<tr>
<th align="left">Matrices</th>
<th align="left">Result</th>
</tr>
</thead><tbody>
<tr>
<td align="left">3*5 * 5*7</td>
<td align="left">3*7</td>
</tr>
<tr>
<td align="left">4*2 * 2*4</td>
<td align="left">4*4</td>
</tr>
<tr>
<td align="left">2*4 * 4*2</td>
<td align="left">2*2</td>
</tr>
<tr>
<td align="left">4*3 * 4*3</td>
<td align="left">NA</td>
</tr>
<tr>
<td align="left">3*5 * 5*2</td>
<td align="left">3*2</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Lists</h2>
  </hgroup>
  <article data-timings="">
    <p>Elements of lists can be of any type, including lists</p>

<div style='float:left;width:48%;'>
  <pre><code class="r">l &lt;- list(
    c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),
    1:5,
    rep(c(T,F), 7),
    rnorm(3, 100, 25)
          )
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">l
</code></pre>

<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;
## 
## [[2]]
## [1] 1 2 3 4 5
## 
## [[3]]
##  [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE
## [12] FALSE  TRUE FALSE
## 
## [[4]]
## [1] 135.69389  63.32951  94.08292
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Accessing List Elements</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>List elements can be accessed in two methods: Using the <code>$</code> with the element 
names, or through indexing with a double bracket <code>[[]]</code>.</li>
<li>If a single bracket index is used, <code>[]</code>, the element will be returned, but of 
type list.</li>
</ul>

<div style='float:left;width:48%;'>
  <pre><code class="r">typeof(l)
</code></pre>

<pre><code>## [1] &quot;list&quot;
</code></pre>

<pre><code class="r">typeof(l[1])
</code></pre>

<pre><code>## [1] &quot;list&quot;
</code></pre>

<pre><code class="r">typeof(l[[1]])
</code></pre>

<pre><code>## [1] &quot;character&quot;
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">l[1]
</code></pre>

<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;
</code></pre>

<pre><code class="r">l[[1]]
</code></pre>

<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Access list elements via names</h2>
  </hgroup>
  <article data-timings="">
    <h1>Provide element names</h1>

<pre><code class="r">names(l) &lt;- c(&quot;letters&quot;, &quot;numbers&quot;, &quot;logical&quot;, &quot;double&quot;)
str(l)
</code></pre>

<pre><code>## List of 4
##  $ letters: chr [1:3] &quot;a&quot; &quot;b&quot; &quot;c&quot;
##  $ numbers: int [1:5] 1 2 3 4 5
##  $ logical: logi [1:14] TRUE FALSE TRUE FALSE TRUE FALSE ...
##  $ double : num [1:3] 135.7 63.3 94.1
</code></pre>

<p><br></p>

<h1>Access element</h1>

<pre><code class="r">l$letters
</code></pre>

<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>Naming lists versus vectors</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <h1>Lists</h1>

<pre><code class="r">lst &lt;- list(1:5, letters[1:15])
str(lst)
</code></pre>

<pre><code>## List of 2
##  $ : int [1:5] 1 2 3 4 5
##  $ : chr [1:15] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
</code></pre>

<pre><code class="r">names(lst) &lt;- c(&quot;Numbers&quot;, &quot;Letters&quot;)
str(lst)
</code></pre>

<pre><code>## List of 2
##  $ Numbers: int [1:5] 1 2 3 4 5
##  $ Letters: chr [1:15] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <h1>Vectors</h1>

<pre><code class="r">v &lt;- lst[[1]]
names(v) &lt;- c(&quot;One&quot;, &quot;Two&quot;, 
    &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;)
v
</code></pre>

<pre><code>##   One   Two Three  Four  Five 
##     1     2     3     4     5
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <article data-timings="">
    <pre><code class="r">names(lst$Numbers) &lt;- c(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;)
lst
</code></pre>

<pre><code>## $Numbers
##   One   Two Three  Four  Five 
##     1     2     3     4     5 
## 
## $Letters
##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot;
</code></pre>

<p><br></p>

<h1>Subsetting</h1>

<pre><code class="r">lst$Numbers[&quot;Three&quot;]
</code></pre>

<pre><code>## Three 
##     3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>Lists returned by functions</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>We&#39;ll talk about this more when we get into functions (next week), but many
functions return a list of objects. For example: <code>lm</code>.</li>
</ul>

<pre><code class="r">mod &lt;- lm(hp ~ mpg, data = mtcars)
str(mod)
</code></pre>

<pre><code>## List of 12
##  $ coefficients : Named num [1:2] 324.08 -8.83
##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;(Intercept)&quot; &quot;mpg&quot;
##  $ residuals    : Named num [1:32] -28.7 -28.7 -29.8 -25.1 16 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##  $ effects      : Named num [1:32] -829.8 296.3 -23.6 -20 19.3 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;(Intercept)&quot; &quot;mpg&quot; &quot;&quot; &quot;&quot; ...
##  $ rank         : int 2
##  $ fitted.values: Named num [1:32] 139 139 123 135 159 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##  $ assign       : int [1:2] 0 1
##  $ qr           :List of 5
##   ..$ qr   : num [1:32, 1:2] -5.657 0.177 0.177 0.177 0.177 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##   .. .. ..$ : chr [1:2] &quot;(Intercept)&quot; &quot;mpg&quot;
##   .. ..- attr(*, &quot;assign&quot;)= int [1:2] 0 1
##   ..$ qraux: num [1:2] 1.18 1.02
##   ..$ pivot: int [1:2] 1 2
##   ..$ tol  : num 0.0000001
##   ..$ rank : int 2
##   ..- attr(*, &quot;class&quot;)= chr &quot;qr&quot;
##  $ df.residual  : int 30
##  $ xlevels      : Named list()
##  $ call         : language lm(formula = hp ~ mpg, data = mtcars)
##  $ terms        :Classes &#39;terms&#39;, &#39;formula&#39; length 3 hp ~ mpg
##   .. ..- attr(*, &quot;variables&quot;)= language list(hp, mpg)
##   .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:2] &quot;hp&quot; &quot;mpg&quot;
##   .. .. .. ..$ : chr &quot;mpg&quot;
##   .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;mpg&quot;
##   .. ..- attr(*, &quot;order&quot;)= int 1
##   .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. ..- attr(*, &quot;response&quot;)= int 1
##   .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. ..- attr(*, &quot;predvars&quot;)= language list(hp, mpg)
##   .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;hp&quot; &quot;mpg&quot;
##  $ model        :&#39;data.frame&#39;:   32 obs. of  2 variables:
##   ..$ hp : num [1:32] 110 110 93 110 175 105 245 62 95 123 ...
##   ..$ mpg: num [1:32] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##   ..- attr(*, &quot;terms&quot;)=Classes &#39;terms&#39;, &#39;formula&#39; length 3 hp ~ mpg
##   .. .. ..- attr(*, &quot;variables&quot;)= language list(hp, mpg)
##   .. .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. ..$ : chr [1:2] &quot;hp&quot; &quot;mpg&quot;
##   .. .. .. .. ..$ : chr &quot;mpg&quot;
##   .. .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;mpg&quot;
##   .. .. ..- attr(*, &quot;order&quot;)= int 1
##   .. .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. .. ..- attr(*, &quot;response&quot;)= int 1
##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. .. ..- attr(*, &quot;predvars&quot;)= language list(hp, mpg)
##   .. .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;hp&quot; &quot;mpg&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;lm&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <article data-timings="">
    <p>You can access the elements through the list</p>

<pre><code class="r">mod$coefficients
</code></pre>

<pre><code>## (Intercept)         mpg 
##  324.082314   -8.829731
</code></pre>

<p>Note that some times there are more efficient methods</p>

<pre><code class="r">coef(mod)
</code></pre>

<pre><code>## (Intercept)         mpg 
##  324.082314   -8.829731
</code></pre>

<p>In this case the methods are roughly equivalent, but sometimes it can make a
  difference (IRT)</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Other functions will transform data into lists</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">cyls &lt;- split(mtcars, mtcars$cyl)
str(cyls)
</code></pre>

<pre><code>## List of 3
##  $ 4:&#39;data.frame&#39;:   11 obs. of  11 variables:
##   ..$ mpg : num [1:11] 22.8 24.4 22.8 32.4 30.4 33.9 21.5 27.3 26 30.4 ...
##   ..$ cyl : num [1:11] 4 4 4 4 4 4 4 4 4 4 ...
##   ..$ disp: num [1:11] 108 146.7 140.8 78.7 75.7 ...
##   ..$ hp  : num [1:11] 93 62 95 66 52 65 97 66 91 113 ...
##   ..$ drat: num [1:11] 3.85 3.69 3.92 4.08 4.93 4.22 3.7 4.08 4.43 3.77 ...
##   ..$ wt  : num [1:11] 2.32 3.19 3.15 2.2 1.61 ...
##   ..$ qsec: num [1:11] 18.6 20 22.9 19.5 18.5 ...
##   ..$ vs  : num [1:11] 1 1 1 1 1 1 1 1 0 1 ...
##   ..$ am  : num [1:11] 1 0 0 1 1 1 0 1 1 1 ...
##   ..$ gear: num [1:11] 4 4 4 4 4 4 3 4 5 5 ...
##   ..$ carb: num [1:11] 1 2 2 1 2 1 1 1 2 2 ...
##  $ 6:&#39;data.frame&#39;:   7 obs. of  11 variables:
##   ..$ mpg : num [1:7] 21 21 21.4 18.1 19.2 17.8 19.7
##   ..$ cyl : num [1:7] 6 6 6 6 6 6 6
##   ..$ disp: num [1:7] 160 160 258 225 168 ...
##   ..$ hp  : num [1:7] 110 110 110 105 123 123 175
##   ..$ drat: num [1:7] 3.9 3.9 3.08 2.76 3.92 3.92 3.62
##   ..$ wt  : num [1:7] 2.62 2.88 3.21 3.46 3.44 ...
##   ..$ qsec: num [1:7] 16.5 17 19.4 20.2 18.3 ...
##   ..$ vs  : num [1:7] 0 0 1 1 1 1 0
##   ..$ am  : num [1:7] 1 1 0 0 0 0 1
##   ..$ gear: num [1:7] 4 4 3 3 4 4 5
##   ..$ carb: num [1:7] 4 4 1 1 4 4 6
##  $ 8:&#39;data.frame&#39;:   14 obs. of  11 variables:
##   ..$ mpg : num [1:14] 18.7 14.3 16.4 17.3 15.2 10.4 10.4 14.7 15.5 15.2 ...
##   ..$ cyl : num [1:14] 8 8 8 8 8 8 8 8 8 8 ...
##   ..$ disp: num [1:14] 360 360 276 276 276 ...
##   ..$ hp  : num [1:14] 175 245 180 180 180 205 215 230 150 150 ...
##   ..$ drat: num [1:14] 3.15 3.21 3.07 3.07 3.07 2.93 3 3.23 2.76 3.15 ...
##   ..$ wt  : num [1:14] 3.44 3.57 4.07 3.73 3.78 ...
##   ..$ qsec: num [1:14] 17 15.8 17.4 17.6 18 ...
##   ..$ vs  : num [1:14] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ am  : num [1:14] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ gear: num [1:14] 3 3 3 3 3 3 3 3 3 3 ...
##   ..$ carb: num [1:14] 2 4 3 3 3 4 4 4 2 2 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2>More on lists</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Note that previously slide looked like a nested list (list inside a list). 
This is because data frames are lists, where each element of the list is a vector of the same length.</li>
<li>lists are tremendously useful and flexible, but essentially require at least a 
basic understanding of functions and/or loops. 

<ul>
<li>Functions because lists are often used to return output from a function 
(as discussed previously). </li>
<li>Loops because you often want to loop through a list and apply a function
to each element of the list.</li>
</ul></li>
</ul>

<p>For example: </p>

<pre><code class="r">sapply(cyls, function(x) cor(x$mpg, x$hp))
</code></pre>

<pre><code>##          4          6          8 
## -0.5235034 -0.1270678 -0.2836357
</code></pre>

<p>(Note <code>tapply</code> is a more efficent method for doing the same thing as above 
  without spliting the data frame first)</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h1>Lists and data frames</h1>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">l &lt;- list(
    lets = letters[1:5],
    ints = 9:5,
    dbl = rnorm(5, 12, 0.75)
    )
str(l)
</code></pre>

<pre><code>## List of 3
##  $ lets: chr [1:5] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
##  $ ints: int [1:5] 9 8 7 6 5
##  $ dbl : num [1:5] 11.9 11.4 12 11.4 10.5
</code></pre>

<pre><code class="r">as.data.frame(l)
</code></pre>

<pre><code>##   lets ints      dbl
## 1    a    9 11.85500
## 2    b    8 11.36268
## 3    c    7 12.04385
## 4    d    6 11.38675
## 5    e    5 10.46227
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p>Or equivalently</p>

<pre><code class="r">dframe &lt;- data.frame(
    lets = letters[1:5],
    ints = 9:5,
    dbl = rnorm(5, 12, 0.75)
    )
dframe
</code></pre>

<pre><code>##   lets ints      dbl
## 1    a    9 11.87718
## 2    b    8 12.53139
## 3    c    7 11.79901
## 4    d    6 10.90206
## 5    e    5 12.55833
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>More on data frames</h2>
  </hgroup>
  <article data-timings="">
    <p>Because data frames are actually lists, you can use the same subsetting 
  procedures you can with lists. </p>

<pre><code class="r">dframe[2]
</code></pre>

<pre><code>##   ints
## 1    9
## 2    8
## 3    7
## 4    6
## 5    5
</code></pre>

<pre><code class="r">dframe[[2]]
</code></pre>

<pre><code>## [1] 9 8 7 6 5
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Your turn</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Create a list consisting of a character vector, an integer vector, and a 
factor, all of the same length</li>
<li>Provide names for each element.</li>
<li>Provide names for each element of the integer vector.</li>
<li>Subset the list using names to select one element of the integer vector.</li>
<li>Subset the list to select the same element using indexing.</li>
<li>Convert the list into a data frame</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <article data-timings="">
    <ul>
<li>Create a list consisting of a character vector, an integer vector, and a 
factor, all of the same length</li>
<li>Provide names for each element.</li>
</ul>

<pre><code class="r">l &lt;- list(Lets = letters[1:7], 
          Ints = 1:7,
          fact = factor(
                    c(rep(c(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;), 2), &quot;red&quot;)
                    )
          )
l
</code></pre>

<pre><code>## $Lets
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot;
## 
## $Ints
## [1] 1 2 3 4 5 6 7
## 
## $fact
## [1] red   green blue  red   green blue  red  
## Levels: blue green red
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <article data-timings="">
    <ul>
<li>Provide names for each element of the integer vector.</li>
</ul>

<pre><code class="r">names(l[[&quot;Ints&quot;]]) &lt;- letters[11:17]
l
</code></pre>

<pre><code>## $Lets
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot;
## 
## $Ints
## k l m n o p q 
## 1 2 3 4 5 6 7 
## 
## $fact
## [1] red   green blue  red   green blue  red  
## Levels: blue green red
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <article data-timings="">
    <ul>
<li>Subset the list using names to select one element of the integer vector.</li>
</ul>

<pre><code class="r">l$Ints[&quot;p&quot;]
</code></pre>

<pre><code>## p 
## 6
</code></pre>

<ul>
<li>Subset the list to select the same element using indexing.</li>
</ul>

<pre><code class="r">l[[2]][6]
</code></pre>

<pre><code>## p 
## 6
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <article data-timings="">
    <ul>
<li>Convert the list into a data frame</li>
</ul>

<pre><code class="r">d &lt;- as.data.frame(l)
d
</code></pre>

<pre><code>##   Lets Ints  fact
## k    a    1   red
## l    b    2 green
## m    c    3  blue
## n    d    4   red
## o    e    5 green
## p    f    6  blue
## q    g    7   red
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue" id="slide-24" style="background:;">
  <hgroup>
    <h1>Common/Routine Functions (very briefly)</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h1>Resources</h1>
  </hgroup>
  <article data-timings="">
    <p>Plenty of helpful sheets for common/routine functions in R. For example: </p>

<ul>
<li><a href="https://cran.r-project.org/doc/contrib/Short-refcard.pdf">https://cran.r-project.org/doc/contrib/Short-refcard.pdf</a></li>
<li><a href="http://www.columbia.edu/%7Ecjd11/charles_dimaggio/DIRE/resources/R/rFunctionsList.pdf">http://www.columbia.edu/~cjd11/charles_dimaggio/DIRE/resources/R/rFunctionsList.pdf</a></li>
</ul>

<p><img src="./assets/img/refCard.png" alt="image"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h2>Big picture</h2>
  </hgroup>
  <article data-timings="">
    <p>There are lots of functions that you will use and need as you get deeper into 
  programming with R. Gaining fluency with these functions is one of the keys to taking the &quot;next step&quot; with R and truly being comfortable with it. Some examples of functions I use routinely include the following:</p>

<ul>
<li><code>rep()</code> repeats an element or vector a specified number of times</li>
<li><code>seq()</code> creates a sequence of numbers from <code>x</code> to <code>y</code></li>
<li><code>:</code> creates an integer index that changes by 1</li>
<li><code>table()</code> creates a summary of the number of times an element occurs in a
vector (similar to Frequencies in SPSS)</li>
<li><code>c()</code> creates a vector</li>
<li><code>cbind()</code> binds vectors, matrices, or data frames together column-wise</li>
<li><code>rbind()</code> binds vectors, matrices, or data frames together row-wise</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-27" style="background:;">
  <hgroup>
    <h2>Common functions (continued)</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><code>ifelse()</code> vectorized operator for conditional recoding of a vector. Takes
three arguments: If condition == TRUE, then carry out an operation, else carry out a different operation.</li>
<li><code>rnorm()</code>, <code>rbinom()</code>, <code>rpois()</code>, etc., create randomly generated data from 
the specified distribution (with the specified distributional properties).</li>
<li><code>dnorm()</code>, <code>dbinom()</code>, <code>dpois()</code>, etc, calculate the likelihood of specific
data occurring from the specified distribution (with the specified distributional properties).</li>
<li><code>str()</code> provides the basic structure of the object (most useful for lists and
data frames).</li>
<li><code>head()</code> and <code>tail()</code> display the first 6 (head) and the last 6 (tail) rows
of a given data frame.</li>
<li><code>summary()</code> provides statistical summary information on vectors</li>
<li><code>sample()</code> randomly select <code>n</code> observations from a vector</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>Additional arguments</h2>
  </hgroup>
  <article data-timings="">
    <p>While the basics of most of these functions are relatively straightforward, 
  most also include additional arguments that make them more flexible.</p>

<p>For example: </p>

<pre><code class="r">rep(c(3,5), 7) # typical application
</code></pre>

<pre><code>##  [1] 3 5 3 5 3 5 3 5 3 5 3 5 3 5
</code></pre>

<pre><code class="r">rep(c(3, 5), each = 2, length.out = 7) # additional arguments
</code></pre>

<pre><code>## [1] 3 3 5 5 3 3 5
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2><code>dnorm()</code> etc. arguments</h2>
  </hgroup>
  <article data-timings="">
    <p>These functions can be used in ML estimation but are also commonly useful in plotting.</p>

<div style='float:left;width:48%;'>
  <pre><code class="r">plot(x = 101:200,  
    y = seq(0, 0.1, length.out = 100), 
    type = &quot;n&quot;, 
    ylab = &quot;Density&quot;, main = &quot;Normals&quot;)
abline(v = 150, lty = 3, col = &quot;gray&quot;)

lines(101:200, dnorm(101:200, 150, 5), 
    col = &quot;blue&quot;)
lines(101:200, dnorm(101:200, 150, 10), 
    col = &quot;red&quot;)
lines(101:200, dnorm(101:200, 150, 15), 
    col = &quot;green&quot;)
lines(101:200, dnorm(101:200, 150, 20), 
    col = &quot;purple&quot;)
lines(101:200, dnorm(101:200, 150, 25), 
    col = &quot;orange&quot;)
lines(101:200, dnorm(101:200, 150, 30), 
    col = &quot;black&quot;)
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/fig/unnamed-chunk-32-1.png" alt="plot of chunk unnamed-chunk-32"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-30" style="background:;">
  <hgroup>
    <h2>Your Turn (probably fairly tough)</h2>
  </hgroup>
  <article data-timings="">
    <h1>Use some of the common/routine functions to do the following:</h1>

<ul>
<li>Create a sequence vector from 100 to 237 that is of length 1000.</li>
<li>Randomly order the vector</li>
<li>Compute the likelihood of each point occurring from a normal distribution
with \(\mu\) = 178.32 and \(\sigma\) = 15.67. Store the result in a new vector.</li>
<li>Form a 1000 by 2 matrix that is composed of the sequence vector and
the likelihood vector.</li>
<li>Use the matrix to plot the relation between the sequence vector and the
likelihood of each point.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-31" style="background:;">
  <article data-timings="">
    <ul>
<li>Create a sequence vector from 100 to 237 that is of length 10,000.</li>
</ul>

<pre><code class="r">v &lt;- seq(100, 237, length.out = 1e4)
head(v)
</code></pre>

<pre><code>## [1] 100.0000 100.0137 100.0274 100.0411 100.0548 100.0685
</code></pre>

<ul>
<li>Randomly order the vector</li>
</ul>

<pre><code class="r">v &lt;- sample(v, length(v))
head(v)
</code></pre>

<pre><code>## [1] 110.8515 159.4365 193.1145 200.5818 161.9713 207.3228
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-32" style="background:;">
  <article data-timings="">
    <ul>
<li>Compute the likelihood of each point, and store the result in a new vector</li>
</ul>

<pre><code class="r">lik &lt;- dnorm(v, 178.32, 15.67)
head(lik)
</code></pre>

<pre><code>## [1] 0.000002400779 0.012316885312 0.016303475424 0.009280633627
## [5] 0.014773255270 0.004591672415
</code></pre>

<ul>
<li>Form a 1000 by 2 matrix that is composed of the sequence vector and
the likelihood vector.</li>
</ul>

<pre><code class="r">m &lt;- cbind(v, lik)
head(m)
</code></pre>

<pre><code>##             v            lik
## [1,] 110.8515 0.000002400779
## [2,] 159.4365 0.012316885312
## [3,] 193.1145 0.016303475424
## [4,] 200.5818 0.009280633627
## [5,] 161.9713 0.014773255270
## [6,] 207.3228 0.004591672415
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-33" style="background:;">
  <article data-timings="">
    <ul>
<li>Use the matrix to plot the relation between the sequence vector and the
likelihood of each point.</li>
</ul>

<pre><code class="r">plot(m[ ,1], m[ ,2])
</code></pre>

<p><img src="assets/fig/unnamed-chunk-37-1.png" alt="plot of chunk unnamed-chunk-37"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='Today&#39;s Agenda'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Matrix Multiplication Versus Element-wise'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Matrix algebra'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Marix product rules'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='One more example'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Your turn'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='NA'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Lists'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Accessing List Elements'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Access list elements via names'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Naming lists versus vectors'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='NA'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Lists returned by functions'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='NA'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Other functions will transform data into lists'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='More on lists'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Lists and data frames'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='More on data frames'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Your turn'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='NA'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='NA'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='NA'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='NA'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Common/Routine Functions (very briefly)'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Resources'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Big picture'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='Common functions (continued)'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='Additional arguments'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='<code>dnorm()</code> etc. arguments'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='Your Turn (probably fairly tough)'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='NA'>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='NA'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='NA'>
         33
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>